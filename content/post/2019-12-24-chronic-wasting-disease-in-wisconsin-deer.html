---
title: Chronic Wasting Disease in Wisconsin Deer
author: JVA
date: '2019-12-24'
slug: chronic-wasting-disease-in-wisconsin-deer
categories:
  - R
tags:
  - web scraping
  - map
---

<script src="/rmarkdown-libs/htmlwidgets/htmlwidgets.js"></script>
<script src="/rmarkdown-libs/jquery/jquery.min.js"></script>
<link href="/rmarkdown-libs/datatables-css/datatables-crosstalk.css" rel="stylesheet" />
<script src="/rmarkdown-libs/datatables-binding/datatables.js"></script>
<link href="/rmarkdown-libs/dt-core/css/jquery.dataTables.min.css" rel="stylesheet" />
<link href="/rmarkdown-libs/dt-core/css/jquery.dataTables.extra.css" rel="stylesheet" />
<script src="/rmarkdown-libs/dt-core/js/jquery.dataTables.min.js"></script>
<link href="/rmarkdown-libs/crosstalk/css/crosstalk.css" rel="stylesheet" />
<script src="/rmarkdown-libs/crosstalk/js/crosstalk.min.js"></script>


<p>Do you deer hunt in Wisconsin? Have you had your deer tested for chronic wasting disease? I recently learned the results of the test on my deer and was curious about the results statewide.</p>
<div id="bringing-in-the-data" class="section level1">
<h1>Bringing in the data</h1>
<p>The county data are available online at <a href="https://dnr.wi.gov/wmcwd/Summary/County">dnr.wi.gov</a>. I used <a href="https://cran.r-project.org/web/packages/rvest/vignettes/selectorgadget.html">SelectorGadget</a> to identify the columns of data I wanted from each page and the <a href="https://blog.rstudio.com/2014/11/24/rvest-easy-web-scraping-with-r/">rvest</a> package of <a href="https://www.r-project.org/">R</a> to do the extraction, looping through the pages with different years of data. You can see the code that I used <a href="https://github.com/rbind/jvadams/blob/master/content/post/2019-12-24-chronic-wasting-disease-in-wisconsin-deer.Rmd">here</a>.</p>
<p>In preparation for mapping the results, I also downloaded state and county mapping data for Wisconsin from the <a href="https://ggplot2.tidyverse.org/">ggplot2</a> package.</p>
</div>
<div id="summarizing-the-data" class="section level1">
<h1>Summarizing the data</h1>
<p>Then I summarized the test data, determining the first year that CWD was detected in each county and the percentage of positive results over all tests during 1999-2019 and just during 2019.</p>
<p>Since 1999, <strong>28</strong> of 72 Wisconsin counties have tested positive for CWD, including <strong>2</strong> counties that tested positive for the first time in 2019: <strong>Sheboygan, Dunn</strong>.</p>
<p><br></p>
<div id="htmlwidget-1" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-1">{"x":{"filter":"none","data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72"],["Iowa","Sauk","Richland","Dane","Lafayette","Columbia","Grant","Rock","Green","Walworth","Adams","Crawford","Juneau","Vernon","Waukesha","Eau Claire","Milwaukee","Portage","Jefferson","Marquette","Dodge","Oneida","Sheboygan","Kenosha","Racine","Dunn","Lincoln","Washburn","Ashland","Barron","Bayfield","Brown","Buffalo","Burnett","Calumet","Chippewa","Clark","Door","Douglas","Florence","Fond du Lac","Forest","Green Lake","Iron","Jackson","Kewaunee","La Crosse","Langlade","Manitowoc","Marathon","Marinette","Menominee","Monroe","Oconto","Outagamie","Ozaukee","Pepin","Pierce","Polk","Price","Rusk","Sawyer","Shawano","St Croix","Taylor","Trempealeau","Vilas","Washington","Waupaca","Waushara","Winnebago","Wood"],[2002,2002,2002,2000,2004,2003,2006,2003,2003,2002,2012,2015,2012,2017,2012,2017,2017,2012,2005,2018,2017,2017,2019,2003,2012,2019,2017,2011,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[48603,18284,13994,30215,2983,6323,6056,8439,3458,7029,3498,2183,2780,3792,4089,1673,387,3377,7470,1750,2423,2666,1154,1157,1342,1527,1787,3215,705,1508,1522,335,2081,1983,197,1177,1703,853,1113,982,524,599,888,597,1912,436,1175,1301,946,2582,1641,44,2563,1292,683,296,487,701,1559,1409,1268,1423,2118,822,1152,1447,1792,880,1730,1744,359,1556],[3028,948,673,991,81,147,130,166,62,87,35,16,17,20,14,5,1,7,15,3,4,4,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[6.23006810279201,5.18486108072632,4.80920394454766,3.27982790004964,2.7153871940999,2.32484580104381,2.14663143989432,1.96705770825927,1.79294389820706,1.23772940674349,1.00057175528874,0.732936326156665,0.611510791366906,0.527426160337553,0.342382000489117,0.298864315600717,0.258397932816537,0.207284572105419,0.200803212851406,0.171428571428571,0.165084605860503,0.150037509377344,0.0866551126516465,0.0864304235090752,0.0745156482861401,0.0654878847413229,0.0559597090095132,0.031104199066874,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[1352,917,1351,998,194,555,642,126,144,98,344,423,353,747,193,360,40,375,144,346,156,417,73,21,40,400,266,193,35,168,171,25,375,199,13,205,211,17,135,102,34,45,109,61,176,14,160,119,36,378,209,8,425,126,35,53,73,46,211,242,130,147,215,135,91,252,147,118,189,106,19,189],[367,244,230,142,25,60,57,15,23,9,6,3,9,6,5,2,0,0,2,2,0,2,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[27.1449704142012,26.608505997819,17.0244263508512,14.2284569138277,12.8865979381443,10.8108108108108,8.8785046728972,11.9047619047619,15.9722222222222,9.18367346938776,1.74418604651163,0.709219858156028,2.54957507082153,0.803212851405622,2.59067357512953,0.555555555555556,0,0,1.38888888888889,0.578034682080925,0,0.479616306954436,1.36986301369863,0,0,0.25,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>County<\/th>\n      <th>First.Detected<\/th>\n      <th>Analyzed.Total<\/th>\n      <th>Positive.Total<\/th>\n      <th>Pos.pct.Total<\/th>\n      <th>Analyzed.2019<\/th>\n      <th>Positive.2019<\/th>\n      <th>Pos.pct.2019<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"scrollX":"700px","columnDefs":[{"className":"dt-right","targets":[2,3,4,5,6,7,8]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false,"rowCallback":"function(row, data) {\nDTWidget.formatCurrency(this, row, data, 3, \"\", 0, 3, \",\", \".\", true);\nDTWidget.formatCurrency(this, row, data, 4, \"\", 0, 3, \",\", \".\", true);\nDTWidget.formatCurrency(this, row, data, 6, \"\", 0, 3, \",\", \".\", true);\nDTWidget.formatCurrency(this, row, data, 7, \"\", 0, 3, \",\", \".\", true);\nDTWidget.formatRound(this, row, data, 5, 1, 3, \",\", \".\");\nDTWidget.formatRound(this, row, data, 8, 1, 3, \",\", \".\");\n}"}},"evals":["options.rowCallback"],"jsHooks":[]}</script>
</div>
<div id="mapping-the-data" class="section level1">
<h1>Mapping the data</h1>
<p>I used the data to create a county map showing the percentage of positive results in 2019, the counties that have never tested positive for CWD, and the first year of detection.</p>
<p>Then I created a whole series of maps, one for each year of testing, to see how the counties with positive detections have expanded over time.</p>
<p><br></p>
<p><img src="/post/2019-12-24-chronic-wasting-disease-in-wisconsin-deer_files/figure-html/unnamed-chunk-6-1.png" width="576" /></p>
<p><img src="/post/2019-12-24-chronic-wasting-disease-in-wisconsin-deer_files/figure-html/unnamed-chunk-7-1.png" width="768" /></p>
</div>
<div id="plotting-the-data" class="section level1">
<h1>Plotting the data</h1>
<p>Finally, to see the progression of the infection in the deer population over time, I plotted the percentage of positive results for every county that ever had a positive test. I only show percentages for years with at least 8 deer tested in each county. (<em>The combined data from 1999-2001 is plotted at 2000.</em>)</p>
<p><img src="/post/2019-12-24-chronic-wasting-disease-in-wisconsin-deer_files/figure-html/unnamed-chunk-8-1.png" width="576" /></p>
</div>
